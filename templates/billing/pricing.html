{% extends "base_app.html" %}

{% block title %}Pricing - CV Analyzer{% endblock %}

{% block content %}
<div class="page-header text-center">
    <h1><i class="bi bi-credit-card me-2"></i>Pricing Plans</h1>
    <p class="text-muted">Choose the plan that fits your needs</p>
</div>

<div class="row g-4 justify-content-center">
    <!-- Free Plan -->
    <div class="col-md-4">
        <div class="pricing-card">
            <div class="pricing-header">
                <h3>Free</h3>
                <div class="pricing-price">$0<span>/month</span></div>
            </div>
            <div class="pricing-body">
                <ul class="pricing-features">
                    <li><i class="bi bi-check-circle text-success"></i> 15 analyses per month</li>
                    <li><i class="bi bi-check-circle text-success"></i> Basic scoring</li>
                    <li><i class="bi bi-check-circle text-success"></i> Section detection</li>
                    <li><i class="bi bi-check-circle text-success"></i> Problem detection</li>
                    <li><i class="bi bi-check-circle text-success"></i> Job matching</li>
                    <li><i class="bi bi-check-circle text-success"></i> Recruitment (HR mode)</li>
                    <li><i class="bi bi-check-circle text-success"></i> Candidate ranking</li>
                    <li><i class="bi bi-check-circle text-success"></i> Red flags detection</li>
                    <li class="text-muted"><i class="bi bi-x-circle"></i> Recommendations</li>
                    <li class="text-muted"><i class="bi bi-x-circle"></i> PDF export</li>
                    <li class="text-muted"><i class="bi bi-x-circle"></i> Skill gap analysis</li>
                    <li class="text-muted"><i class="bi bi-x-circle"></i> CV versioning</li>
                    <li class="text-muted"><i class="bi bi-x-circle"></i> AI rewriting</li>
                    <li class="text-muted"><i class="bi bi-x-circle"></i> Interview questions</li>
                </ul>
                {% if request.user.is_authenticated and request.user.plan == 'free' %}
                <button class="btn btn-outline-secondary w-100" disabled>Current Plan</button>
                {% else %}
                <span class="text-muted">Default plan</span>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- Pro Plan -->
    <div class="col-md-4">
        <div class="pricing-card pricing-popular">
            <div class="pricing-badge">Most Popular</div>
            <div class="pricing-header">
                <h3>Pro</h3>
                <div class="pricing-price">$9.99<span>/month</span></div>
            </div>
            <div class="pricing-body">
                <ul class="pricing-features">
                    <li><i class="bi bi-check-circle text-success"></i> Unlimited analyses</li>
                    <li><i class="bi bi-check-circle text-success"></i> Full scoring</li>
                    <li><i class="bi bi-check-circle text-success"></i> Recommendations</li>
                    <li><i class="bi bi-check-circle text-success"></i> Job matching</li>
                    <li><i class="bi bi-check-circle text-success"></i> PDF export</li>
                    <li><i class="bi bi-check-circle text-success"></i> Skill gap analysis</li>
                    <li><i class="bi bi-check-circle text-success"></i> CV versioning</li>
                    <li><i class="bi bi-check-circle text-success"></i> Recruitment (HR mode)</li>
                    <li><i class="bi bi-check-circle text-success"></i> Candidate ranking</li>
                    <li><i class="bi bi-check-circle text-success"></i> Red flags detection</li>
                    <li class="text-muted"><i class="bi bi-x-circle"></i> AI rewriting</li>
                    <li class="text-muted"><i class="bi bi-x-circle"></i> Benchmarking</li>
                    <li class="text-muted"><i class="bi bi-x-circle"></i> Interview questions</li>
                    <li class="text-muted"><i class="bi bi-x-circle"></i> Market benchmark</li>
                </ul>
                {% if request.user.is_authenticated and request.user.plan == 'pro' %}
                <button class="btn btn-outline-secondary w-100" disabled>Current Plan</button>
                {% else %}
                {% for plan in plans %}
                {% if plan.name == 'pro' and plan.stripe_price_id %}
                <a href="{% url 'checkout' plan.id %}" class="btn btn-accent w-100">Upgrade to Pro</a>
                {% endif %}
                {% endfor %}
                {% endif %}
            </div>
        </div>
    </div>

    <!-- Premium Plan -->
    <div class="col-md-4">
        <div class="pricing-card">
            <div class="pricing-header">
                <h3>Premium</h3>
                <div class="pricing-price">$24.99<span>/month</span></div>
            </div>
            <div class="pricing-body">
                <ul class="pricing-features">
                    <li><i class="bi bi-check-circle text-success"></i> Everything in Pro</li>
                    <li><i class="bi bi-check-circle text-success"></i> AI rewriting</li>
                    <li><i class="bi bi-check-circle text-success"></i> Benchmarking</li>
                    <li><i class="bi bi-check-circle text-success"></i> Career advisor</li>
                    <li><i class="bi bi-check-circle text-success"></i> Interview questions</li>
                    <li><i class="bi bi-check-circle text-success"></i> Market benchmark</li>
                    <li><i class="bi bi-check-circle text-success"></i> Priority support</li>
                </ul>
                {% if request.user.is_authenticated and request.user.plan == 'premium' %}
                <button class="btn btn-outline-secondary w-100" disabled>Current Plan</button>
                {% else %}
                {% for plan in plans %}
                {% if plan.name == 'premium' and plan.stripe_price_id %}
                <a href="{% url 'checkout' plan.id %}" class="btn btn-outline-primary w-100">Upgrade to Premium</a>
                {% endif %}
                {% endfor %}
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
